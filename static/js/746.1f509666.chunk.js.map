{"version":3,"file":"static/js/746.1f509666.chunk.js","mappings":"iWAWaA,EAAe,WAExB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAAqBC,EAAAA,EAAAA,MAAdC,GAAP,eACMC,EAAY,mCAAG,WAAOC,GAAP,wFACjBA,EAAEC,iBAEIC,EAAcC,SAASC,eAAe,YACtCC,EAAWF,SAASC,eAAe,SACnCE,EAAcH,SAASC,eAAe,YACtCG,EAAOL,EAAYM,MACnBC,EAAQJ,EAASG,MACjBE,EAAWJ,EAAYE,MAE7BG,QAAQC,WAAWL,SAAcE,SAAeC,GAC1CG,EAAc,CAACN,EAAME,EAAOC,GAAUI,MAAMC,SAClDJ,QAAQC,IAAIC,GACNG,EAAc,CAACT,KAAAA,EAAME,MAAAA,EAAOC,SAAAA,IAC9BG,EAda,kCAgBTI,IAAAA,QAAAA,SAA0B,WAC1BA,IAAAA,QAAAA,OAAwB,KAjBf,UAkBHnB,EAAWkB,GAAaE,SAASC,MACnC,YAAc,IAAZC,EAAW,EAAXA,WAA0BC,IAAVD,EACd3B,GAAS6B,EAAAA,EAAAA,GAASF,IAAOG,EAAAA,EAAAA,KAAM,IAE/BN,IAAAA,OAAAA,QAAA,yCAEF,IAxBG,kEA4BTO,MAAM,SA5BG,kCAiCJrB,SAASC,eAAe,QAChCqB,QAlCY,UAoCX9B,EAAS,YAAa,CAAE+B,SAAS,IApCtB,2DAAH,sDAuClB,OACA,+BACA,kBAAMC,SAAU5B,EAAc6B,GAAG,OAAjC,WACI,SAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,UAAU,WAAtC,UACI,SAACC,EAAA,EAAD,CAAiBC,MAAM,WAAvB,UACI,SAACC,EAAA,UAAD,CAAcC,KAAK,WAAWC,YAAY,WAAWR,GAAG,kBAIhE,SAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,UAAU,QAAtC,UACI,SAACC,EAAA,EAAD,CAAgBC,MAAM,gBAAtB,UACI,SAACC,EAAA,UAAD,CAAcC,KAAK,QAAQC,YAAY,mBAAoBR,GAAG,eAItE,SAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,UAAU,WAAtC,UACI,SAACC,EAAA,EAAD,CAAgBC,MAAM,WAAtB,UACI,SAACC,EAAA,UAAD,CAAcC,KAAK,WAAWC,YAAY,WAAWR,GAAG,kBAIhE,SAACS,EAAA,EAAD,CAAQC,QAAQ,kBAAkBH,KAAK,SAAvC,0BAKP,EC/DD,G,QAZiB,SAAAI,GACb,OACI,gBAAKT,UAAU,gBAAf,UACE,SAACtC,EAAD,KAGT,E","sources":["components/Register/RegisterForm.js","pages/Register.jsx"],"sourcesContent":["import { useDispatch} from 'react-redux';\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { FormGroup } from 'react-bootstrap';\nimport { useAddNewUserMutation } from \"redux/apiSlice\";\nimport Notiflix from 'notiflix';\nimport { addToken } from '../../redux/tokenSlice';\nimport { logIn } from '../../redux/isLoggedSlice';\nimport { useNavigate } from 'react-router-dom';\n\nexport const RegisterForm = () => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const [addNewUser] = useAddNewUserMutation();\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const usernameDOM = document.getElementById(\"username\");\n        const emailDOM = document.getElementById(\"email\");\n        const passwordDOM = document.getElementById(\"password\");\n        const name = usernameDOM.value;\n        const email = emailDOM.value;\n        const password = passwordDOM.value\n\n        console.log(typeof(name), typeof(email), typeof(password));  \n        const canRegister = [name, email, password].every(Boolean);\n        console.log(canRegister);\n        const credentials = {name, email, password};\n        if (canRegister) {\n            try {\n                Notiflix.Loading.standard('wait...');\n                Notiflix.Loading.remove(2000);\n                await addNewUser(credentials).unwrap().then(\n                    ({token}) => {if (token !== undefined) {\n                        dispatch(addToken(token),logIn(true));}\n                    else {\n                        Notiflix.Notify.failure(`Something went wrong. Pleasw try again`);\n                        return\n                    }}\n                    ) ;\n                }\n            catch (error) {\n                alert(\"error\");\n                return\n            }\n        };\n\n        const form = document.getElementById(\"form\");  \n        form.reset();\n\n        await navigate(\"/contacts\", { replace: true });\n    };\n\n    return ( \n    <>\n    <form onSubmit={handleSubmit} id=\"form\">\n        <FormGroup className=\"mb-3\" controlId=\"username\">\n            <FloatingLabel   label=\"Username\">\n                <Form.Control type=\"username\" placeholder=\"Username\" id='username'/>\n            </FloatingLabel>\n        </FormGroup>\n\n        <FormGroup className=\"mb-3\" controlId=\"email\">\n            <FloatingLabel  label=\"Email address\">\n                <Form.Control type=\"email\" placeholder=\"name@example.com\"  id='email'/>\n            </FloatingLabel>\n        </FormGroup>\n\n        <FormGroup className=\"mb-3\" controlId=\"password\">\n            <FloatingLabel  label=\"Password\">\n                <Form.Control type=\"password\" placeholder=\"Password\" id='password' />\n            </FloatingLabel>\n        </FormGroup>\n\n        <Button variant=\"outline-primary\" type='submit'>Register</Button>\n      </form>\n      </>\n    )\n\n}","import React from 'react';\nimport { RegisterForm } from 'components/Register/RegisterForm';\n// import PropTypes from 'prop-types'\n\nimport \"./Register.css\";\n\nconst Register = props => {\n    return (\n        <div className='login-wrapper'>\n          <RegisterForm />\n        </div>\n      );\n}\n\n// Register.propTypes = {\n\n// }\n\nexport default Register\n"],"names":["RegisterForm","dispatch","useDispatch","navigate","useNavigate","useAddNewUserMutation","addNewUser","handleSubmit","e","preventDefault","usernameDOM","document","getElementById","emailDOM","passwordDOM","name","value","email","password","console","log","canRegister","every","Boolean","credentials","Notiflix","unwrap","then","token","undefined","addToken","logIn","alert","reset","replace","onSubmit","id","FormGroup","className","controlId","FloatingLabel","label","Form","type","placeholder","Button","variant","props"],"sourceRoot":""}