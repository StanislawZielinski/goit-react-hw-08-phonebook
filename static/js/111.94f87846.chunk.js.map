{"version":3,"file":"static/js/111.94f87846.chunk.js","mappings":"2WAWaA,EAAY,WAErB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACMC,EAAY,mCAAG,WAAOC,GAAP,oFACjBA,EAAEC,iBAEIC,EAAWC,SAASC,eAAe,SACnCC,EAAcF,SAASC,eAAe,YACtCE,EAAQJ,EAASK,MACjBC,EAAWH,EAAYE,MAEvBE,EAAW,CAACH,EAAOE,GAAUE,MAAMC,SACnCC,EAAc,CAACN,MAAAA,EAAOE,SAAAA,IACxBC,EAVa,iCAYTI,IAAAA,QAAAA,SAA0B,WAC1BA,IAAAA,QAAAA,OAAwB,KAbf,UAcHf,EAAMc,GAAaE,SAASC,MAC9B,YAAc,IAAZC,EAAW,EAAXA,WAA0BC,IAAVD,GACdvB,GAASyB,EAAAA,EAAAA,GAASF,IAClBvB,GAAS0B,EAAAA,EAAAA,KAAM,IACf1B,GAAS2B,EAAAA,EAAAA,GAAQd,EAAME,KAEvBK,IAAAA,OAAAA,QAAA,yCAEF,IAtBG,iEA0BTQ,MAAM,SA1BG,4CAkCX1B,EAAS,YAAa,CAAE2B,SAAS,IAlCtB,0DAAH,sDAqClB,OACA,+BACA,kBAAMC,SAAUxB,EAAcyB,GAAG,OAAjC,WACI,SAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,UAAU,QAAtC,UACI,SAACC,EAAA,EAAD,CAAgBC,MAAM,gBAAtB,UACI,SAACC,EAAA,UAAD,CAAcC,KAAK,QAAQC,YAAY,mBAAoBR,GAAG,eAItE,SAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,UAAU,WAAtC,UACI,SAACC,EAAA,EAAD,CAAgBC,MAAM,WAAtB,UACI,SAACC,EAAA,UAAD,CAAcC,KAAK,WAAWC,YAAY,WAAWR,GAAG,kBAIhE,SAACS,EAAA,EAAD,CAAQC,QAAQ,kBAAkBH,KAAK,SAAvC,wBAIP,ECtDD,G,QAZc,SAAAI,GACV,OACI,gBAAKT,UAAU,gBAAf,UACE,SAAClC,EAAD,KAGT,E","sources":["components/LoginForm/LoginForm.jsx","pages/Login.jsx"],"sourcesContent":["import { useDispatch} from 'react-redux';\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { FormGroup } from 'react-bootstrap';\nimport { useLoginMutation } from \"redux/apiSlice\";\nimport Notiflix from 'notiflix';\nimport { addUser } from '../../redux/userSlice';\nimport { addToken } from '../../redux/tokenSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { logIn } from '../../redux/isLoggedSlice';\nexport const LoginForm = () => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const [login] = useLoginMutation();\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const emailDOM = document.getElementById(\"email\");\n        const passwordDOM = document.getElementById(\"password\");\n        const email = emailDOM.value;\n        const password = passwordDOM.value\n \n        const canLogin = [email, password].every(Boolean);\n        const credentials = {email, password};\n        if (canLogin) {\n            try {\n                Notiflix.Loading.standard('wait...');\n                Notiflix.Loading.remove(2000);\n                await login(credentials).unwrap().then(\n                    ({token}) => {if (token !== undefined) {\n                        dispatch(addToken(token));\n                        dispatch(logIn(true));\n                        dispatch(addUser(email,password))}\n                    else {\n                        Notiflix.Notify.failure(`Something went wrong. Pleasw try again`);\n                        return\n                    }}\n                    ) ;\n                }\n            catch (error) {\n                alert(\"error\");\n                return\n            }\n        };\n\n        // const form = document.getElementById(\"form\");  \n        // form.reset();\n\n        await navigate(\"/contacts\", { replace: true });\n    };\n\n    return ( \n    <>\n    <form onSubmit={handleSubmit} id=\"form\">\n        <FormGroup className=\"mb-3\" controlId=\"email\">\n            <FloatingLabel  label=\"Email address\">\n                <Form.Control type=\"email\" placeholder=\"name@example.com\"  id='email'/>\n            </FloatingLabel>\n        </FormGroup>\n\n        <FormGroup className=\"mb-3\" controlId=\"password\">\n            <FloatingLabel  label=\"Password\">\n                <Form.Control type=\"password\" placeholder=\"Password\" id='password' />\n            </FloatingLabel>\n        </FormGroup>\n\n        <Button variant=\"outline-primary\" type='submit'>Log in</Button>\n      </form>\n      </>\n    )\n}","import React from 'react';\nimport { LoginForm } from '../components/LoginForm/LoginForm';\n// import PropTypes from 'prop-types'\n\nimport \"./Register.css\";\n\nconst Login = props => {\n    return (\n        <div className='login-wrapper'>\n          <LoginForm />\n        </div>\n      );\n}\n\n// Register.propTypes = {\n\n// }\n\nexport default Login"],"names":["LoginForm","dispatch","useDispatch","navigate","useNavigate","useLoginMutation","login","handleSubmit","e","preventDefault","emailDOM","document","getElementById","passwordDOM","email","value","password","canLogin","every","Boolean","credentials","Notiflix","unwrap","then","token","undefined","addToken","logIn","addUser","alert","replace","onSubmit","id","FormGroup","className","controlId","FloatingLabel","label","Form","type","placeholder","Button","variant","props"],"sourceRoot":""}